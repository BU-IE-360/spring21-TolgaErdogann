data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
Electric_Usage_XTS_Hourly<-xts(consumption$Consumption,order.by=as.Date(Consumption$Date,"%d.%m.%Y %H:%M:%S"))
Electric_Usage_XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
library(xts)
Electric_Usage_XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
plot(hourly)
ts.plot(hourly)
View(XTS_Hourly)
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
ts.plot(hourly)
hourly
ts.plot(hourly)
hourly
ts.plot(hourly,main="Hourly usage")
acf(hourly)
consumption$Consumption<-as.numeric(consumption$Consumption)
hourly
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
hourly
ts.plot(hourly,main="Hourly usage")
acf(hourly)
acf(hourly)
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
hourly
ts.plot(hourly,main="Hourly usage")
str(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
View(consumption)
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
consumption[,Consumption:=as.numeric(Consumption)]
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
str(consumption)
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
str(consumption)
consumption[,Date:=as.Date(Date)]
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
d
d
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
str(consumption)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
hourly
hourly
ts.plot(hourly,main="Hourly usage")
acf(hourly)
consumption[,Date:=as.Date(Date)]
str(consumption)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
consumption[,Date:=as.Date(Date)]
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
hourly
ts.plot(hourly,main="Hourly usage")
acf(hourly)
Hourly_multiplicative<-decompose(hourly, type="multiplicative")
Hourly_additive<-decompose(hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
daily_consumption=consumption[,list(mean_consumption=mean(Consumption,na.rm=T),by=list(Date))]
View(daily_consumption)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
View(daily)
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
ts.plot(hourly,main="Hourly usage")
acf(hourly)
Hourly_multiplicative<-decompose(hourly, type="multiplicative")
Hourly_additive<-decompose(hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
XTS_Hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
hourly<-ts(XTS_Hourly,start=c(2016,1), freq=24)
ts.plot(hourly,main="Hourly usage")
acf(hourly)
Hourly_multiplicative<-decompose(hourly, type="multiplicative")
Hourly_additive<-decompose(hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
View(consumption)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
47208/24
View(daily)
mean_consumption=ts(daily$Consumption,freq=7)
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly,start=c(2016,1), freq=24)
ts.plot(hourly,main="Hourly usage")
hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly,start=c(2016,1), freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(hourly)
hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly,start=c(2016,1), freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
Hourly_multiplicative<-decompose(hourly, type="multiplicative")
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
ts_daily=ts(daily$Consumption,freq=7)
Daily_additive<-decompose(ts_daily, type = "additive")
Daily_multiplicative<-decompose(ts_daily, type = "multiplicative")
plot(Daily_multiplicative)
daily(Daily_additive)
plot(Daily_additive)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
monthly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
65*12*24
ts_monthly=ts(monthly$Consumption,freq=12)
Monthly_additive<-decompose(ts_monthly, type = "additive")
View(monthly)
monthly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
ts_monthly=ts(monthly$Consumption,freq=12)
Monthly_additive<-decompose(ts_monthly, type = "additive")
Monthly_multiplicative<-decompose(ts_monthly, type = "multiplicative")
plot(Monthly_multiplicative)
plot(Monthly_additive)
yearly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(year(Date))]
View(yearly)
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly,start=c(2016,1), freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
ts_daily=ts(daily$Consumption,freq=7)
Daily_additive<-decompose(ts_daily, type = "additive")
Daily_multiplicative<-decompose(ts_daily, type = "multiplicative")
plot(Daily_multiplicative)
plot(Daily_additive)
65*12*
47208/24
47208/24
plot(Daily_additive$seasonal[1:30], type ='1')
plot(Daily_additive$seasonal[1:30])
plot(Daily_additive$seasonal[1:30], type=1)
plot(Daily_additive$seasonal[1:30], type'l')
plot(Daily_additive$seasonal[1:30], type='l')
plot(Hourly_additive$seasonal[1:600], type='l')
plot(Hourly_additive$seasonal[1:300], type='l')
plot(Hourly_additive$seasonal[1:100], type='l')
1967/30
monthly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
monthly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
ts_monthly=ts(monthly$Consumption,freq=12)
Monthly_additive<-decompose(ts_monthly, type = "additive")
Monthly_multiplicative<-decompose(ts_monthly, type = "multiplicative")
plot(Monthly_multiplicative)
plot(Monthly_additive)
plot(Daily_additive$seasonal[1:30], type='l')
plot(Monthly_additive$seasonal[1:30], type='l')
View(Daily_additive)
View(daily)
View(monthly)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
##consumption[,Consumption:=as.numeric(Consumption)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(mday(Date))]
View(daily)
hourly = consumption[, list(Consumption=Consumption), by=list(hour(Date))]
View(hourly)
##hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
hourly = consumption[, list(Consumption=Consumption), by=list(as.Date(Date))]
##hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly, freq=24)
View(hourly)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
View(hourly)
hourly = consumption[, list(Consumption=Consumption)]
##hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
##hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly, freq=24)
plot(monthly)
hourly = consumption[, Consumption]
##hourly <- xts(consumption$Consumption, order.by=as.Date(consumption$Date,"%d.%m.%Y %H:%M:%S"))
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
plot(Hourly_additive$seasonal[1:100], type='l')
hourly = consumption[, Consumption]
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
```{r echo=TRUE, message=FALSE, warning=FALSE, paged.print=FALSE}
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
plot(Hourly_additive)
plot(Hourly_additive$seasonal[1:100], type='l')
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
ts_daily=ts(daily$Consumption,freq=7)
Daily_additive<-decompose(ts_daily, type = "additive")
Daily_multiplicative<-decompose(ts_daily, type = "multiplicative")
plot(Daily_multiplicative)
plot(Daily_additive)
plot(Daily_additive$seasonal[1:30], type='l')
monthly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
ts_monthly=ts(monthly$Consumption,freq=12)
Monthly_additive<-decompose(ts_monthly, type = "additive")
Monthly_multiplicative<-decompose(ts_monthly, type = "multiplicative")
plot(Monthly_multiplicative)
plot(Monthly_additive)
plot(Monthly_additive$seasonal[1:30], type='l')
plot(Monthly_additive$seasonal[1:70], type='l')
View(Monthly_additive)
plot(monthly$Consumption)
plot(monthly$Consumption,type = 'l')
plot(daily$Consumption,type = 'l')
plot(daily$Consumption[0:20],type = 'l')
plot(daily$Consumption[0:60],type = 'l')
plot(monthly$Consumption,type = 'l')
plot(daily$Consumption,type = 'l')
Daily_additive<-decompose(ts_daily, type = "additive")
Daily_multiplicative<-decompose(ts_daily, type = "multiplicative")
plot(Daily_multiplicative)
monthly = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(month(Date), year(Date))]
ts_monthly=ts(monthly$Consumption,freq=12)
Monthly_additive<-decompose(ts_monthly, type = "additive")
Monthly_multiplicative<-decompose(ts_monthly, type = "multiplicative")
plot(Monthly_multiplicative)
plot(Monthly_additive)
plot(Monthly_additive$seasonal[1:70], type='l')
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
hourly = consumption[, Consumption]
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
plot(Hourly_additive$seasonal[1:100], type='l')
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
hourly = consumption[, Consumption]
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative)
plot(Hourly_additive)
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_multiplicative$random)
plot(Hourly_additive$random)
library(data.table)
library(lubridate)
library(tidyverse)
library(zoo)
library(forecast)
library(xts)
data_path='/Users/tolgaerdogan/Documents/GitHub/spring21-TolgaErdogann/Data/RealTimeConsumption-01012016-20052021.csv'
consumption=fread(data_path)
consumption=consumption[!is.na(Consumption)]
consumption[,Date:=as.Date(Date)]
head(consumption)
consumption=consumption %>%
mutate(Date = make_datetime(year=year(Date), month=month(Date), day=mday(Date), hour=Hour))
consumption$Consumption<-as.numeric(consumption$Consumption)
str(consumption)
hourly = consumption[, Consumption]
ts_hourly<-ts(hourly, freq=24)
ts.plot(ts_hourly,main="Hourly usage")
acf(ts_hourly)
Hourly_multiplicative<-decompose(ts_hourly, type="multiplicative")
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_additive$random)
plot(Hourly_additive$seasonal[1:30], type='l')
plot(Hourly_additive$seasonal[1:200], type='l')
plot(Hourly_additive$seasonal[1:150], type='l')
Hourly_additive<-decompose(ts_hourly, type="additive")
plot(Hourly_additive)
plot(Hourly_additive$seasonal[1:100], type='l')
View(Hourly_additive)
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
ts_daily=ts(daily$Consumption,freq=7)
Daily_additive<-decompose(ts_daily, type = "additive")
plot(Daily_additive)
plot(Daily_additive$seasonal[1:100], type='l')
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
ts_daily=ts(daily$Consumption,freq=7)
Daily_additive<-decompose(ts_daily, type = "additive")
plot(Daily_additive)
plot(Daily_additive$seasonal[1:50], type='l')
daily = consumption[, list(Consumption=mean(Consumption, na.rm=TRUE)), by=list(as.Date(Date))]
ts_daily=ts(daily$Consumption,freq=7)
Daily_additive<-decompose(ts_daily, type = "additive")
plot(Daily_additive)
plot(Daily_additive$seasonal[1:30], type='l')
